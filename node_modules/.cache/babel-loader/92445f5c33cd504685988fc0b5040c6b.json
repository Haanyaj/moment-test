{"ast":null,"code":"var _jsxFileName = \"/home/haan/moment-test/src/components/Pages/Movie.js\";\nimport React, { useState, useRef, useCallback } from 'react';\nimport useBookSearch from './useBookSearch';\nexport default function App() {\n  const [query, setQuery] = useState('');\n  const [pageNumber, setPageNumber] = useState(1);\n  const {\n    movies,\n    hasMore,\n    loading,\n    totalPages\n  } = useBookSearch(\"fr-FR\", pageNumber);\n\n  async function getTotalPages() {\n    this.state.totalPages = await request_pages();\n  }\n\n  async function loadMore() {\n    if (this.state.pages === 2\n    /*this.state.totalPages*/\n    ) {\n        this.setState({\n          hasMoreItems: false\n        });\n      } else {\n      const response = await request_token(\"fr-FR\", this.state.pages);\n      setTimeout(() => {\n        const add = this.state.data;\n        const to_add = add.concat(response);\n        this.setState({\n          data: to_add\n        });\n      }, 2000);\n    }\n\n    this.state.pages += 1;\n  }\n\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      loader: this.getTotalPages(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(InfiniteScroll, {\n      loadMore: this.loadMore.bind(this),\n      hasMore: this.state.hasMoreItems,\n      loader:\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: \"loader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 25\n        }\n      }, \"loading && Loading... \"),\n      useWindow: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, this.showItems(), \" \"), \" \")))\n  );\n}","map":{"version":3,"sources":["/home/haan/moment-test/src/components/Pages/Movie.js"],"names":["React","useState","useRef","useCallback","useBookSearch","App","query","setQuery","pageNumber","setPageNumber","movies","hasMore","loading","totalPages","getTotalPages","state","request_pages","loadMore","pages","setState","hasMoreItems","response","request_token","setTimeout","add","data","to_add","concat","bind","showItems"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,WAAlC,QAAqD,OAArD;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAEA,eAAe,SAASC,GAAT,GAAe;AAC1B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACO,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAAC,CAAD,CAA5C;AAEA,QAAM;AACFS,IAAAA,MADE;AAEFC,IAAAA,OAFE;AAGFC,IAAAA,OAHE;AAIFC,IAAAA;AAJE,MAKFT,aAAa,CAAC,OAAD,EAAUI,UAAV,CALjB;;AAOA,iBAAeM,aAAf,GAA+B;AAC3B,SAAKC,KAAL,CAAWF,UAAX,GAAwB,MAAMG,aAAa,EAA3C;AACH;;AAED,iBAAeC,QAAf,GAA0B;AACtB,QAAI,KAAKF,KAAL,CAAWG,KAAX,KAAqB;AAAE;AAA3B,MAAsD;AAClD,aAAKC,QAAL,CAAc;AAAEC,UAAAA,YAAY,EAAE;AAAhB,SAAd;AACH,OAFD,MAEO;AACH,YAAMC,QAAQ,GAAG,MAAMC,aAAa,CAAC,OAAD,EAAU,KAAKP,KAAL,CAAWG,KAArB,CAApC;AACAK,MAAAA,UAAU,CAAC,MAAM;AACb,cAAMC,GAAG,GAAG,KAAKT,KAAL,CAAWU,IAAvB;AACA,cAAMC,MAAM,GAAGF,GAAG,CAACG,MAAJ,CAAWN,QAAX,CAAf;AACA,aAAKF,QAAL,CAAc;AAAEM,UAAAA,IAAI,EAAEC;AAAR,SAAd;AACH,OAJS,EAIP,IAJO,CAAV;AAKH;;AACD,SAAKX,KAAL,CAAWG,KAAX,IAAoB,CAApB;AACH;;AAED;AAAA;AACI;AACA,MAAA,MAAM,EAAE,KAAKJ,aAAL,EADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,wBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,wBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,wBAAC,cAAD;AACI,MAAA,QAAQ,EAAE,KAAKG,QAAL,CAAcW,IAAd,CAAmB,IAAnB,CADd;AAEI,MAAA,OAAO,EAAE,KAAKb,KAAL,CAAWK,YAFxB;AAGI,MAAA,MAAM;AAAA;AAAE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAHZ;AAII,MAAA,SAAS,EAAE,KAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMK,KAAKS,SAAL,EANL,EAMuB,GANvB,CADA,EAQkB,GARlB,CADJ,CAHA;AADJ;AAkBH","sourcesContent":["import React, { useState, useRef, useCallback } from 'react'\nimport useBookSearch from './useBookSearch'\n\nexport default function App() {\n    const [query, setQuery] = useState('')\n    const [pageNumber, setPageNumber] = useState(1)\n\n    const {\n        movies,\n        hasMore,\n        loading,\n        totalPages,\n    } = useBookSearch(\"fr-FR\", pageNumber)\n\n    async function getTotalPages() {\n        this.state.totalPages = await request_pages();\n    }\n\n    async function loadMore() {\n        if (this.state.pages === 2 /*this.state.totalPages*/) {\n            this.setState({ hasMoreItems: false });\n        } else {\n            const response = await request_token(\"fr-FR\", this.state.pages);\n            setTimeout(() => {\n                const add = this.state.data;\n                const to_add = add.concat(response);\n                this.setState({ data: to_add })\n            }, 2000);\n        }\n        this.state.pages += 1\n    }\n\n    return (\n        <div\n        loader={this.getTotalPages()}\n    >\n        <Container>\n            <Grid>\n            <InfiniteScroll\n                loadMore={this.loadMore.bind(this)}\n                hasMore={this.state.hasMoreItems}\n                loader={<div className=\"loader\">loading && Loading... </div>}\n                useWindow={false}\n            >\n                {this.showItems()}{\" \"}\n            </InfiniteScroll>{\" \"}\n            </Grid>\n        </Container>\n    </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}