{"ast":null,"code":"var _jsxFileName = \"/home/haan/moment-test/src/components/Pages/Partners.js\";\n\n/*\n *\n *  *  Copyright (C) Thirty One, Inc - All Rights Reserved\n *  *  * Unauthorized copying of this file, via any medium is strictly prohibited\n *  *  * Proprietary and confidential\n *  *  * Written by Thirty One <thirtyoneparis@gmail.com>, 2020\n *  *\n *\n */\nimport React, { useState, useEffect, forwardRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Page from '../Page';\nimport { Grid, Paper, ButtonBase, Button, Avatar, Card, Box, CardContent, Icon, CardHeader, IconButton } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport StoreCard from \"./StoreCard\";\nimport { get_measures, get_measure, get_user, get_merchants } from '../tools/ApiCalls';\nimport SearchBar from 'material-ui-search-bar';\nimport { Flipper, Flipped } from \"react-flip-toolkit\";\nimport FlipMove from 'react-flip-move';\nconst tempPartners = [{\n  name: \"Asos\",\n  description: \"Magasin qui est vraiment cool\",\n  notation: 4.5,\n  image: \"https://lh3.googleusercontent.com/proxy/VY87nflI9VF1T5UI5FaZJNpVEGkhTR56YwM0Kzd2u6hIzQBmQ-IO_OskY-zdNkJvL9QvNiteL_HsgMIevu2Lzyd3UhrRwfT-7X53vcxucziP77lW8ujH1hwMwTKPOpanUfH_kw\"\n}, {\n  name: \"H&M\",\n  description: \"Magasin un peu Has Been\",\n  notation: 2.5,\n  image: \"https://lp2.hm.com/hmgoepprod?source=url[https://www2.hm.com/content/dam/hm-magazine-2020/inside-hm/hm-logo-white-board.jpg]&sink=format[jpeg],quality[70]\"\n}, {\n  name: \"Tailleur de Barbes\",\n  description: \"J'essaie de faire de mon mieux pour nourrir ma femme et mes gosses\",\n  notation: 0.5,\n  image: \"https://www.leparisien.fr/resizer/wnWPc3RvjZi6naiXun6YMxiNDtU=/932x582/arc-anglerfish-eu-central-1-prod-leparisien.s3.amazonaws.com/public/P7YWDQ2ODPY3J2GBP7ZCHY6QJY.jpg\"\n}, {\n  name: \"Tailleur de Barbes\",\n  description: \"J'essaie de faire de mon mieux pour nourrir ma femme et mes gosses\",\n  notation: 0.5,\n  image: \"https://www.leparisien.fr/resizer/wnWPc3RvjZi6naiXun6YMxiNDtU=/932x582/arc-anglerfish-eu-central-1-prod-leparisien.s3.amazonaws.com/public/P7YWDQ2ODPY3J2GBP7ZCHY6QJY.jpg\"\n}];\nconst useStyles = makeStyles(theme => ({\n  OwnBar: {\n    marginBottom: theme.spacing(5)\n  },\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\"\n  }\n}));\nconst FunctionalStoreCard = forwardRef((props, ref) =>\n/*#__PURE__*/\nReact.createElement(\"div\", {\n  ref: ref,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }\n},\n/*#__PURE__*/\nReact.createElement(StoreCard, Object.assign({}, props, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }\n}), props.articleName)));\nexport default function Partners() {\n  const classes = useStyles();\n  const [search, setSearch] = useState(\"\");\n  const [filteredPartners, setFilteredPartners] = useState([]);\n  const [partners, setPartners] = useState([]);\n  const [nbPartners, setNbPartners] = useState(0);\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await get_merchants();\n      setPartners(result.merchants);\n      setFilteredPartners(result.merchants);\n      setNbPartners(result.count);\n    };\n\n    fetchData();\n  }, []);\n\n  const onChangeSearch = e => {\n    console.log(partners);\n    setSearch(e);\n    setFilteredPartners(partners.filter(partner => {\n      if (e === \"\") {\n        return true;\n      }\n\n      return partner.name.toLowerCase().includes(e.toLowerCase());\n    }));\n    console.log(partners);\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(Page, {\n      title: \"Partenaires\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      className: classes.OwnBar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(SearchBar, {\n      onChange: e => onChangeSearch(e),\n      onCancelSearch: () => setSearch(\"\"),\n      value: search,\n      placeholder: \"Rechercher un magasin\",\n      onRequestSearch: () => console.log('onRequestSearch'),\n      style: {\n        margin: '0 auto',\n        maxWidth: 800\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      spacing: 3,\n      justify: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(FlipMove, {\n      className: classes.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, filteredPartners.map((item, index) =>\n    /*#__PURE__*/\n    React.createElement(FunctionalStoreCard, {\n      item: item,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    })))))\n  );\n}\n;","map":{"version":3,"sources":["/home/haan/moment-test/src/components/Pages/Partners.js"],"names":["React","useState","useEffect","forwardRef","makeStyles","Page","Grid","Paper","ButtonBase","Button","Avatar","Card","Box","CardContent","Icon","CardHeader","IconButton","Typography","Container","StoreCard","get_measures","get_measure","get_user","get_merchants","SearchBar","Flipper","Flipped","FlipMove","tempPartners","name","description","notation","image","useStyles","theme","OwnBar","marginBottom","spacing","container","display","flexWrap","justifyContent","FunctionalStoreCard","props","ref","articleName","Partners","classes","search","setSearch","filteredPartners","setFilteredPartners","partners","setPartners","nbPartners","setNbPartners","fetchData","result","merchants","count","onChangeSearch","e","console","log","filter","partner","toLowerCase","includes","margin","maxWidth","map","item","index"],"mappings":"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","sourcesContent":["/*\n *\n *  *  Copyright (C) Thirty One, Inc - All Rights Reserved\n *  *  * Unauthorized copying of this file, via any medium is strictly prohibited\n *  *  * Proprietary and confidential\n *  *  * Written by Thirty One <thirtyoneparis@gmail.com>, 2020\n *  *\n *\n */\n\nimport React, { useState, useEffect, forwardRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Page from '../Page';\nimport { Grid, Paper, ButtonBase, Button, Avatar, Card, Box, CardContent, Icon, CardHeader, IconButton } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport StoreCard from \"./StoreCard\";\nimport { get_measures, get_measure, get_user, get_merchants } from '../tools/ApiCalls';\nimport SearchBar from 'material-ui-search-bar';\nimport { Flipper, Flipped } from \"react-flip-toolkit\";\nimport FlipMove from 'react-flip-move';\n\n\n\nconst tempPartners = [\n    {\n        name: \"Asos\",\n        description: \"Magasin qui est vraiment cool\",\n        notation: 4.5,\n        image: \"https://lh3.googleusercontent.com/proxy/VY87nflI9VF1T5UI5FaZJNpVEGkhTR56YwM0Kzd2u6hIzQBmQ-IO_OskY-zdNkJvL9QvNiteL_HsgMIevu2Lzyd3UhrRwfT-7X53vcxucziP77lW8ujH1hwMwTKPOpanUfH_kw\"\n    },\n    {\n        name: \"H&M\",\n        description: \"Magasin un peu Has Been\",\n        notation: 2.5,\n        image: \"https://lp2.hm.com/hmgoepprod?source=url[https://www2.hm.com/content/dam/hm-magazine-2020/inside-hm/hm-logo-white-board.jpg]&sink=format[jpeg],quality[70]\",\n    },\n    {\n        name: \"Tailleur de Barbes\",\n        description: \"J'essaie de faire de mon mieux pour nourrir ma femme et mes gosses\",\n        notation: 0.5,\n        image: \"https://www.leparisien.fr/resizer/wnWPc3RvjZi6naiXun6YMxiNDtU=/932x582/arc-anglerfish-eu-central-1-prod-leparisien.s3.amazonaws.com/public/P7YWDQ2ODPY3J2GBP7ZCHY6QJY.jpg\"\n    },\n    {\n        name: \"Tailleur de Barbes\",\n        description: \"J'essaie de faire de mon mieux pour nourrir ma femme et mes gosses\",\n        notation: 0.5,\n        image: \"https://www.leparisien.fr/resizer/wnWPc3RvjZi6naiXun6YMxiNDtU=/932x582/arc-anglerfish-eu-central-1-prod-leparisien.s3.amazonaws.com/public/P7YWDQ2ODPY3J2GBP7ZCHY6QJY.jpg\",\n    },\n]\n\nconst useStyles = makeStyles(theme => ({\n    OwnBar: {\n        marginBottom: theme.spacing(5),\n    },\n    container: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"center\",\n    }\n}));\n\nconst FunctionalStoreCard = forwardRef((props, ref) => (\n\n    <div ref={ref}>\n        <StoreCard  {...props}>\n            {props.articleName}\n        </StoreCard>\n    </div>\n));\n\nexport default function Partners() {\n    const classes = useStyles();\n    const [search, setSearch] = useState(\"\");\n    const [filteredPartners, setFilteredPartners] = useState([])\n    const [partners, setPartners] = useState([])\n    const [nbPartners, setNbPartners] = useState(0)\n\n    useEffect(() => {\n        const fetchData = async () => {\n            const result = await get_merchants()\n            setPartners(result.merchants);\n            setFilteredPartners(result.merchants)\n            setNbPartners(result.count)\n        };\n        fetchData();\n    }, [])\n\n\n\n    const onChangeSearch = (e) => {\n        console.log(partners)\n        setSearch(e)\n        setFilteredPartners(partners.filter(partner => {\n            if (e === \"\") {\n                return true;\n            }\n            return partner.name.toLowerCase().includes(e.toLowerCase());\n        }))\n        console.log(partners)\n    }\n\n    return (\n        <Page title=\"Partenaires\">\n            <Grid\n                className={classes.OwnBar}>\n                <SearchBar\n                    onChange={(e) => onChangeSearch(e)}\n                    onCancelSearch={() => setSearch(\"\")}\n                    value={search}\n                    placeholder=\"Rechercher un magasin\"\n                    onRequestSearch={() => console.log('onRequestSearch')}\n                    style={{\n                        margin: '0 auto',\n                        maxWidth: 800\n                    }}\n                />\n            </Grid>\n            <Grid\n                container\n                spacing={3}\n                justify=\"center\">\n                <FlipMove className={classes.container}>\n                    {filteredPartners.map((item, index) => (\n                        <FunctionalStoreCard item={item} key={index} />\n                    ))}\n                </FlipMove>\n            </Grid>\n        </Page>\n    )\n};"]},"metadata":{},"sourceType":"module"}