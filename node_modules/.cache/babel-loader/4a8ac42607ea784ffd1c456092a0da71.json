{"ast":null,"code":"var _jsxFileName = \"/home/haan/application-web/touch31_app/src/components/Pages/Settings.js\";\n\n/*\n *\n *  *  Copyright (C) Thirty One, Inc - All Rights Reserved\n *  *  * Unauthorized copying of this file, via any medium is strictly prohibited\n *  *  * Proprietary and confidential\n *  *  * Written by Thirty One <thirtyoneparis@gmail.com>, 2020\n *  *\n *\n */\nimport React, { useRef, useState, useEffect, forwardRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport StoreIcon from '@material-ui/icons/Store';\n/*added*/\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport EmojiEmotionsIcon from '@material-ui/icons/EmojiEmotions';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport List from '@material-ui/core/List';\nimport Grid from '@material-ui/core/Grid';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport Input from \"@material-ui/core/Input\";\nimport { useForm } from \"react-hook-form\";\n/*added*/\n\nimport Page from '../Page';\nimport { change_username, change_password, get_user, get_merchants, get_user_merchants, authorize_merchant, revoke_merchant, delete_account } from '../tools/ApiCalls';\nimport Spinner from '../Spinner';\nimport { useHistory } from 'react-router-dom';\n/*added function*/\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return (\n    /*#__PURE__*/\n    React.createElement(Slide, Object.assign({\n      direction: \"up\",\n      ref: ref\n    }, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 10\n      }\n    }))\n  );\n});\n\nfunction ListItemLink(props) {\n  return (\n    /*#__PURE__*/\n    React.createElement(ListItem, Object.assign({\n      button: true,\n      component: \"a\"\n    }, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 10\n      }\n    }))\n  );\n}\n/*added function*/\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    margin: theme.spacing(1)\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    fontWeight: \"bold\"\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary\n  },\n  buttonColor: {\n    color: 'red'\n  },\n  bodyStyle: {\n    maxWidth: 650,\n    margin: 'auto'\n  },\n  spaceStyle: {\n    marginBottom: 25\n  },\n  table: {\n    minWidth: 650\n  },\n  headerIn: {\n    fontWeight: \"bold\"\n  }\n}));\n/* functional component */\n\nconst MyMarchanList = () => {\n  const classes = useStyles();\n  const {\n    handleSubmit,\n    register,\n    errors\n  } = useForm();\n  const history = useHistory();\n  const [openUp, setOpenUp] = React.useState(false);\n  const [selectedUser, setSelectedUser] = React.useState();\n  const [spin, setSpin] = useState(false);\n  const myMerchants = get_merchants();\n  const [filteredPartners, setFilteredPartners] = useState([]);\n  const results_users = get_user();\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await get_user();\n      setFilteredPartners(result.merchants);\n    };\n\n    fetchData();\n  }, []);\n\n  const handleHousOpen = value => () => {\n    setOpenUp({\n      openUp: true,\n      selectedUser: value.id\n    });\n    setSelectedUser(value);\n  };\n\n  const handleHousClose = () => {\n    setOpenUp(false);\n  };\n  /*const onSubmit = async data => {\n    setSpin(true);\n    await revoke_merchant(data.lastMerchant);\n    setSpin(false);\n    history.push('/settings')\n  }*/\n\n\n  const removeMerchants = async data => {\n    //setSpin(true);\n    await revoke_merchant(data); //setSpin(false);\n\n    history.push('/settings');\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(List, {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 5\n      }\n    }, filteredPartners.map(value => {\n      return (\n        /*#__PURE__*/\n        React.createElement(ListItem, {\n          key: value.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 9\n          }\n        },\n        /*#__PURE__*/\n        React.createElement(Typography, {\n          className: classes.headerIn,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 5\n          }\n        }, \" \", value.name),\n        /*#__PURE__*/\n        React.createElement(Button, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 5\n          }\n        },\n        /*#__PURE__*/\n        React.createElement(DeleteIcon, {\n          color: \"primary\",\n          className: classes.buttonColor,\n          button: true,\n          onClick: handleHousOpen(value.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 4\n          }\n        })))\n      );\n    }),\n    /*#__PURE__*/\n    React.createElement(Dialog, {\n      open: openUp,\n      keepMounted: true,\n      onClose: handleHousClose,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 3\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(DialogTitle, {\n      id: \"alert-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, \" \", \"Retirer\"),\n    /*#__PURE__*/\n    React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(DialogContentText, {\n      id: \"alert-dialog-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }, \"Voulez-vous retirer ce commer\\xE7ant ?\",\n    /*#__PURE__*/\n    React.createElement(Input, {\n      type: \"hidden\",\n      name: \"lastMerchant\",\n      defaultValue: selectedUser,\n      ref: register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 6\n      }\n    }))),\n    /*#__PURE__*/\n    React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: handleHousClose,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }, \"Annuler\"),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      color: \"primary\",\n      onClick: removeMerchants(selectedUser),\n      className: classes.buttonColor,\n      autoFocus: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, \"Retirer ce commer\\xE7ant\"))))\n  );\n};\n\nconst UserMyName = () => {\n  const classes = useStyles();\n  const {\n    handleSubmit,\n    register,\n    errors\n  } = useForm();\n  const history = useHistory();\n  const [spin, setSpin] = useState(false);\n  const stateUser = get_user();\n\n  const onSubmit = async data => {\n    setSpin(true);\n    await change_username(data.firstname, data.lastname);\n    setSpin(false);\n    history.push('/settings');\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(\"form\", {\n      className: classes.root,\n      noValidate: true,\n      autoComplete: \"off\",\n      onSubmit: handleSubmit(onSubmit),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 12\n      }\n    }, spin &&\n    /*#__PURE__*/\n    React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 14\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 5\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      id: \"standard-password-input\",\n      label: \"Nom\",\n      fullWidth: true,\n      type: \"text\",\n      autoComplete: \"current-password\",\n      defaultValue: stateUser.firstname,\n      className: classes.spaceStyle,\n      name: \"firstname\",\n      error: errors.firstname,\n      helperText: errors.firstname ? errors.firstname.message : '',\n      inputRef: register({\n        required: {\n          value: true,\n          message: \"Champs requis *\"\n        },\n        minLength: {\n          value: 3,\n          message: \"Doit contenir plus de 2 caractères\"\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 7\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 5\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      id: \"standard-password-input\",\n      label: \"Prenom\",\n      fullWidth: true,\n      type: \"text\",\n      autoComplete: \"current-password\",\n      defaultValue: stateUser.lastname,\n      className: classes.spaceStyle,\n      name: \"lastname\",\n      error: errors.lastname,\n      helperText: errors.lastname ? errors.lastname.message : '',\n      inputRef: register({\n        required: {\n          value: true,\n          message: \"Champs requis *\"\n        },\n        minLength: {\n          value: 3,\n          message: \"Doit contenir plus de 2 caractères\"\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      variant: \"contained\",\n      fullWidth: true,\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 5\n      }\n    }, \"Modifier\"))\n  );\n};\n\nconst UserMyEmail = () => {\n  const classes = useStyles();\n  const re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n  const {\n    handleSubmit,\n    register,\n    errors\n  } = useForm();\n  const history = useHistory();\n  const stateUser = get_user();\n  const [spin, setSpin] = useState(false);\n\n  const onSubmit = async data => {\n    setSpin(true); //await change_email(data.email);\n\n    setSpin(false);\n    history.push('/settings');\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(\"form\", {\n      className: classes.root,\n      noValidate: true,\n      autoComplete: \"off\",\n      onSubmit: handleSubmit(onSubmit),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 12\n      }\n    }, spin &&\n    /*#__PURE__*/\n    React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 14\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 5\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      id: \"standard-password-input\",\n      label: \"Adresse mail\",\n      type: \"email\",\n      fullWidth: true,\n      autoComplete: \"current-password\",\n      defaultValue: stateUser.email,\n      className: classes.spaceStyle,\n      name: \"email\",\n      inputRef: register({\n        required: {\n          value: true,\n          message: \"Champs requis *\"\n        },\n        pattern: {\n          value: re,\n          message: \"Mauvais email\"\n        }\n      }),\n      error: errors.email,\n      helperText: errors.email ? errors.email.message : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 7\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      variant: \"contained\",\n      fullWidth: true,\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 5\n      }\n    }, \"Modifier\"))\n  );\n};\n\nconst UserMyPassword = () => {\n  const classes = useStyles();\n  const pass = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/;\n  const {\n    handleSubmit,\n    register,\n    errors\n  } = useForm();\n  const history = useHistory();\n  const [spin, setSpin] = useState(false);\n\n  const onSubmit = async data => {\n    setSpin(true);\n    await change_password(data.oldpassword, data.newpassword);\n    setSpin(false);\n    history.push('/settings');\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(\"form\", {\n      className: classes.root,\n      noValidate: true,\n      autoComplete: \"off\",\n      onSubmit: handleSubmit(onSubmit),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 12\n      }\n    }, spin &&\n    /*#__PURE__*/\n    React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 14\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 5\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      id: \"standard-password-input\",\n      label: \"Ancien mot de passe\",\n      type: \"password\",\n      fullWidth: true,\n      autoComplete: \"current-password\",\n      defaultValue: \"\",\n      className: classes.spaceStyle,\n      name: \"oldpassword\",\n      error: errors.oldpassword,\n      inputRef: register({\n        required: {\n          value: true,\n          message: \"Champs requis *\"\n        },\n        pattern: {\n          value: pass,\n          message: \"Doit avoir 8 caractères, une majuscule, une minuscule et un chiffre\"\n        }\n      }),\n      helperText: errors.oldpassword ? errors.oldpassword.message : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 7\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 5\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      id: \"standard-password-input\",\n      label: \"Nouveau mot de passe\",\n      type: \"password\",\n      fullWidth: true,\n      autoComplete: \"current-password\",\n      defaultValue: \"\",\n      className: classes.spaceStyle,\n      name: \"newpassword\",\n      error: errors.newpassword,\n      inputRef: register({\n        required: {\n          value: true,\n          message: \"Champs requis *\"\n        },\n        pattern: {\n          value: pass,\n          message: \"Doit avoir 8 caractères, une majuscule, une minuscule et un chiffre\"\n        }\n      }),\n      helperText: errors.newpassword ? errors.newpassword.message : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 7\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      variant: \"contained\",\n      fullWidth: true,\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 5\n      }\n    }, \"Changer\"))\n  );\n};\n/* end functionnal component */\n\n\nexport default function Settings() {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleChange = panel => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  /* add event effect on parametre */\n\n\n  const ref = useRef();\n\n  const ClickOut = (ref, callback) => {\n    const handleClick = e => {\n      if (ref.current && !ref.current.contains(e.target)) {\n        callback();\n      }\n    };\n\n    useEffect(() => {\n      document.addEventListener(\"click\", handleClick);\n      return () => {\n        document.removeEventListener(\"click\", handleClick);\n      };\n    });\n  };\n\n  ClickOut(ref, () => {\n    setExpanded(false);\n  });\n  /* add event effect on parametre */\n\n  const {\n    handleSubmit,\n    register,\n    errors\n  } = useForm();\n  const history = useHistory();\n  const [spin, setSpin] = useState(false);\n\n  const valide = async () => {\n    //setSpin(true);\n    await delete_account(); //setSpin(false);\n\n    history.push('/settings');\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(Page, {\n      title: \"Param\\xE8tres\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 7\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: classes.root,\n      className: classes.bodyStyle,\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ExpansionPanel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ExpansionPanelSummary, {\n      expandIcon:\n      /*#__PURE__*/\n      React.createElement(ExpandMoreIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 31\n        }\n      }),\n      \"aria-controls\": \"panel1a-content\",\n      id: \"panel1a-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 17\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(StoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 21\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 19\n      }\n    }, \"Mes Marchands\")),\n    /*#__PURE__*/\n    React.createElement(ExpansionPanelDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 17\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(MyMarchanList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 21\n      }\n    }))))),\n    /*#__PURE__*/\n    React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 15\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(ExpansionPanel, {\n      expanded: expanded === 'panel1',\n      onChange: handleChange('panel1'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ExpansionPanelSummary, {\n      expandIcon:\n      /*#__PURE__*/\n      React.createElement(ExpandMoreIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 31\n        }\n      }),\n      \"aria-controls\": \"panel1bh-content\",\n      id: \"panel1bh-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 17\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(EmojiEmotionsIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 21\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 19\n      }\n    }, \"Changer mon nom\")),\n    /*#__PURE__*/\n    React.createElement(ExpansionPanelDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 17\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 21\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(UserMyName, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 23\n      }\n    }))))),\n    /*#__PURE__*/\n    React.createElement(ExpansionPanel, {\n      expanded: expanded === 'panel2',\n      onChange: handleChange('panel2'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ExpansionPanelSummary, {\n      expandIcon:\n      /*#__PURE__*/\n      React.createElement(ExpandMoreIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 33\n        }\n      }),\n      \"aria-controls\": \"panel2bh-content\",\n      id: \"panel2bh-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(MailOutlineIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 21\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 19\n      }\n    }, \"Changer mon email\")),\n    /*#__PURE__*/\n    React.createElement(ExpansionPanelDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 17\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      spacing: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 21\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(UserMyEmail, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 23\n      }\n    }))))),\n    /*#__PURE__*/\n    React.createElement(ExpansionPanel, {\n      expanded: expanded === 'panel3',\n      onChange: handleChange('panel3'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ExpansionPanelSummary, {\n      expandIcon:\n      /*#__PURE__*/\n      React.createElement(ExpandMoreIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 33\n        }\n      }),\n      \"aria-controls\": \"panel3bh-content\",\n      id: \"panel3bh-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(VpnKeyIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 21\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 19\n      }\n    }, \"Changer mon mot de passe\")),\n    /*#__PURE__*/\n    React.createElement(ExpansionPanelDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 19\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 21\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 23\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(UserMyPassword, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 25\n      }\n    }))))),\n    /*#__PURE__*/\n    React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 15\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(ExpansionPanel, {\n      expanded: expanded === 'panel4',\n      onClick: handleClickOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ExpansionPanelSummary, {\n      \"aria-controls\": \"panel4bh-content\",\n      id: \"panel4bh-header\",\n      className: classes.buttonColor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 17\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ListItemIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 21\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(DeleteIcon, {\n      color: \"primary\",\n      className: classes.buttonColor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 23\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 21\n      }\n    }, \"Supprimer mon compte\"))),\n    /*#__PURE__*/\n    React.createElement(Dialog, {\n      open: open,\n      keepMounted: true,\n      onClose: handleClose,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 6\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(DialogTitle, {\n      id: \"alert-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 17\n      }\n    }, \" \", \"Supprimer mon compte\"),\n    /*#__PURE__*/\n    React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 17\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(DialogContentText, {\n      id: \"alert-dialog-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 19\n      }\n    }, \"Voulez-vous supprimer ce compte ?\")),\n    /*#__PURE__*/\n    React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 17\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: handleClose,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 19\n      }\n    }, \"Annuler\"),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: valide,\n      color: \"primary\",\n      className: classes.buttonColor,\n      autoFocus: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 19\n      }\n    }, \"Supprimer mon compte\"))))))\n  );\n}\n;","map":{"version":3,"sources":["/home/haan/application-web/touch31_app/src/components/Pages/Settings.js"],"names":["React","useRef","useState","useEffect","forwardRef","makeStyles","ExpansionPanel","ExpansionPanelDetails","ExpansionPanelSummary","Typography","ExpandMoreIcon","DeleteIcon","StoreIcon","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","VpnKeyIcon","EmojiEmotionsIcon","ListItem","ListItemIcon","List","Grid","FormControl","TextField","MailOutlineIcon","WarningIcon","Input","useForm","Page","change_username","change_password","get_user","get_merchants","get_user_merchants","authorize_merchant","revoke_merchant","delete_account","Spinner","useHistory","Transition","props","ref","ListItemLink","useStyles","theme","root","width","margin","spacing","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","fontWeight","secondaryHeading","color","palette","text","secondary","buttonColor","bodyStyle","maxWidth","spaceStyle","marginBottom","table","minWidth","headerIn","MyMarchanList","classes","handleSubmit","register","errors","history","openUp","setOpenUp","selectedUser","setSelectedUser","spin","setSpin","myMerchants","filteredPartners","setFilteredPartners","results_users","fetchData","result","merchants","handleHousOpen","value","id","handleHousClose","removeMerchants","data","push","map","name","UserMyName","stateUser","onSubmit","firstname","lastname","message","required","minLength","UserMyEmail","re","email","pattern","UserMyPassword","pass","oldpassword","newpassword","Settings","expanded","setExpanded","handleChange","panel","event","isExpanded","open","setOpen","handleClickOpen","handleClose","ClickOut","callback","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","valide"],"mappings":"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","sourcesContent":["/*\n *\n *  *  Copyright (C) Thirty One, Inc - All Rights Reserved\n *  *  * Unauthorized copying of this file, via any medium is strictly prohibited\n *  *  * Proprietary and confidential\n *  *  * Written by Thirty One <thirtyoneparis@gmail.com>, 2020\n *  *\n *\n */\n\nimport React, { useRef, useState, useEffect, forwardRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport StoreIcon from '@material-ui/icons/Store';\n\n/*added*/\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport EmojiEmotionsIcon from '@material-ui/icons/EmojiEmotions';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport List from '@material-ui/core/List';\nimport Grid from '@material-ui/core/Grid';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport Input from \"@material-ui/core/Input\";\n\nimport { useForm } from \"react-hook-form\";\n/*added*/\n\nimport Page from '../Page';\n\nimport { change_username, change_password, get_user, get_merchants, get_user_merchants, authorize_merchant, revoke_merchant, delete_account } from '../tools/ApiCalls';\nimport Spinner from '../Spinner';\nimport { useHistory } from 'react-router-dom'\n\n/*added function*/\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction ListItemLink(props) {\n  return <ListItem button component=\"a\" {...props} />;\n}\n/*added function*/\n\n  const useStyles = makeStyles(theme => ({\n    root: {\n      width: '100%',\n      margin: theme.spacing(1),\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '33.33%',\n      flexShrink: 0,\n      fontWeight: \"bold\"\n    },\n    secondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      color: theme.palette.text.secondary,\n    },\n    buttonColor: {\n      color: 'red',\n    },\n    bodyStyle: {\n      maxWidth: 650, \n      margin: 'auto'\n    },\n    spaceStyle: {\n      marginBottom: 25,\n    },\n    table: {\n      minWidth: 650,\n    },\n    headerIn: {\n      fontWeight: \"bold\"\n    }\n  }));\n\n  /* functional component */\n\t\n\t\n\n  const MyMarchanList = () => {\n    const classes = useStyles();\n\n    const { handleSubmit, register, errors } = useForm();\n    const history = useHistory();\n\n    const [openUp, setOpenUp] = React.useState(false);\n\tconst [selectedUser, setSelectedUser] = React.useState();\n\tconst [spin, setSpin] = useState(false);\n\t\n\tconst myMerchants = get_merchants();\n\t\n\tconst [filteredPartners, setFilteredPartners] = useState([])\n\tconst results_users = get_user();\n    useEffect(() => {\n        const fetchData = async () => {\n            const result = await get_user()\n            setFilteredPartners(result.merchants)\n        };\n        fetchData();\n    }, [])\n\n    const handleHousOpen = value => () => {\n      setOpenUp({openUp: true, selectedUser: value.id});\n\t  setSelectedUser(value);\n    };\n    const handleHousClose = () => {\n      setOpenUp(false);\n    };\n\n    /*const onSubmit = async data => {\n      setSpin(true);\n      await revoke_merchant(data.lastMerchant);\n      setSpin(false);\n      history.push('/settings')\n    }*/\n\t\n\tconst removeMerchants = async data => {\n\t\t//setSpin(true);\n\t\tawait revoke_merchant(data);\n\t\t//setSpin(false);\n\t\thistory.push('/settings')\n\t}\n\n    return (\n    <List className={classes.root}>\n\t\t{filteredPartners.map((value) => {\n      return (\n        <ListItem key={value.id} >\n\t\t  <Typography className={classes.headerIn}> {value.name}</Typography>\n\t\t  <Button>\n\t\t\t<DeleteIcon color=\"primary\" className={classes.buttonColor} button onClick={handleHousOpen(value.id)} />\n\t\t  </Button>\n\t\t</ListItem>\n      );\n\t\t})}\n\t\n\t\t<Dialog\n          open={openUp}\n          keepMounted\n          onClose={handleHousClose}\n          aria-labelledby=\"alert-dialog-title\"\n          aria-describedby=\"alert-dialog-description\"\n          >\n            <DialogTitle id=\"alert-dialog-title\"> {\"Retirer\"}</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n              Voulez-vous retirer ce commerçant ?\n\t\t\t  <Input type=\"hidden\" name=\"lastMerchant\" defaultValue={selectedUser} ref={register}/>\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleHousClose} color=\"primary\">\n                Annuler\n              </Button>\n              <Button color=\"primary\" onClick={removeMerchants(selectedUser)} className={classes.buttonColor} autoFocus>\n                Retirer ce commerçant\n              </Button>\n            </DialogActions>\n          </Dialog>\n    </List>\n    );\n  };\n\n  const UserMyName = () => {\n    const classes = useStyles();\n\n    const { handleSubmit, register, errors } = useForm();\n    const history = useHistory();\n\n    const [spin, setSpin] = useState(false);\n    const stateUser = get_user();\n    const onSubmit = async data => {\n      setSpin(true);\n      await change_username(data.firstname, data.lastname);\n      setSpin(false);\n      history.push('/settings')\n    }\n\n    return <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit(onSubmit)}>\n    {spin && <Spinner />}\n    <Grid item xs={12}>\n      <TextField \n        id=\"standard-password-input\"\n        label=\"Nom\"\n        fullWidth\n        type=\"text\"\n        autoComplete=\"current-password\"\n        defaultValue={stateUser.firstname} \n        className={classes.spaceStyle}\n        name=\"firstname\"\n        error={errors.firstname}\n        helperText={errors.firstname ? errors.firstname.message : ''}\n        inputRef={register({\n          required: {\n            value: true,\n            message: \"Champs requis *\"\n          },\n          minLength: {\n            value: 3,\n            message: \"Doit contenir plus de 2 caractères\"\n          }\n        })}\n      />\n    </Grid>\n    <Grid item xs={12}>\n      <TextField\n        id=\"standard-password-input\"\n        label=\"Prenom\"\n        fullWidth\n        type=\"text\"\n        autoComplete=\"current-password\"\n        defaultValue={stateUser.lastname}  \n        className={classes.spaceStyle}\n        name=\"lastname\"\n        error={errors.lastname}\n        helperText={errors.lastname ? errors.lastname.message : ''}\n        inputRef={register({\n          required: {\n            value: true,\n            message: \"Champs requis *\"\n          },\n          minLength: {\n            value: 3,\n            message: \"Doit contenir plus de 2 caractères\"\n          }\n        })}\n      />\n    </Grid>\n    <Button variant=\"contained\" fullWidth color=\"primary\" type=\"submit\">\n      Modifier\n    </Button>\n  </form>;\n  };\n\n  const UserMyEmail = () => {\n    const classes = useStyles();\n    const re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n\n    const { handleSubmit, register, errors } = useForm();\n    const history = useHistory();\n    const stateUser = get_user();\n    const [spin, setSpin] = useState(false);\n    const onSubmit = async data => {\n      setSpin(true);\n      //await change_email(data.email);\n      setSpin(false);\n      history.push('/settings')\n    }\n\n    return <form className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit(onSubmit)}>\n    {spin && <Spinner />}\n    <Grid item xs={12}>\n      <TextField\n        id=\"standard-password-input\"\n        label=\"Adresse mail\"\n        type=\"email\"\n        fullWidth\n        autoComplete=\"current-password\"\n        defaultValue={stateUser.email} \n        className={classes.spaceStyle}\n        name=\"email\"\n        inputRef={register({\n          required: {\n            value: true,\n            message: \"Champs requis *\"\n          },\n          pattern: {\n            value: re,\n            message: \"Mauvais email\"\n          },\n        })}\n        error={errors.email}\n        helperText={errors.email ? errors.email.message : ''}\n      />\n    </Grid>\n    <Button variant=\"contained\" fullWidth color=\"primary\" type=\"submit\">\n      Modifier\n    </Button>\n  </form>;\n  };\n\n  const UserMyPassword = () => {\n    const classes = useStyles();\n\n    const pass = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/;\n\n    const { handleSubmit, register, errors } = useForm();\n    const history = useHistory();\n\n    const [spin, setSpin] = useState(false);\n    const onSubmit = async data => {\n      setSpin(true);\n      await change_password(data.oldpassword, data.newpassword);\n      setSpin(false);\n      history.push('/settings')\n    }\n\n    return <form className={classes.root} noValidate autoComplete=\"off\"  onSubmit={handleSubmit(onSubmit)}>\n    {spin && <Spinner />}\n    <Grid item xs={12}>\n      <TextField\n        id=\"standard-password-input\"\n        label=\"Ancien mot de passe\"\n        type=\"password\"\n        fullWidth\n        autoComplete=\"current-password\"\n        defaultValue=\"\" \n        className={classes.spaceStyle}\n        name=\"oldpassword\"\n        error={errors.oldpassword}\n        inputRef={register({\n          required: {\n            value: true,\n            message: \"Champs requis *\"\n          },\n          pattern: {\n            value: pass,\n            message: \"Doit avoir 8 caractères, une majuscule, une minuscule et un chiffre\"\n          }\n        })}\n        helperText={errors.oldpassword ? errors.oldpassword.message : ''}\n      />\n    </Grid>\n    <Grid item xs={12}>\n      <TextField\n        id=\"standard-password-input\"\n        label=\"Nouveau mot de passe\"\n        type=\"password\"\n        fullWidth\n        autoComplete=\"current-password\"\n        defaultValue=\"\"\n        className={classes.spaceStyle}\n        name=\"newpassword\"\n        error={errors.newpassword}\n        inputRef={register({\n          required: {\n            value: true,\n            message: \"Champs requis *\"\n          },\n          pattern: {\n            value: pass,\n            message: \"Doit avoir 8 caractères, une majuscule, une minuscule et un chiffre\"\n          }\n        })}\n        helperText={errors.newpassword ? errors.newpassword.message : ''}\n      />\n    </Grid>\n    <Button variant=\"contained\" fullWidth color=\"primary\" type=\"submit\">\n      Changer\n    </Button>\n    </form>;\n  };\n  /* end functionnal component */\n   \n\nexport default function Settings() {\n    const classes = useStyles();\n\n    const [expanded, setExpanded] = React.useState(false);\n\n    const handleChange = panel => (event, isExpanded) => {\n      setExpanded(isExpanded ? panel : false);\n    };\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n    const handleClose = () => {\n      setOpen(false);\n    };\n\n    /* add event effect on parametre */\n    const ref = useRef();\n    const ClickOut = (ref, callback) => {\n      const handleClick = e => {\n        if (ref.current && !ref.current.contains(e.target)) {\n          callback();\n        }\n      };\n    \n      useEffect(() => {\n        document.addEventListener(\"click\", handleClick);\n    \n        return () => {\n          document.removeEventListener(\"click\", handleClick);\n        };\n      });\n    };\n    \n    ClickOut(ref, () => {\n      setExpanded(false);\n    });\n    /* add event effect on parametre */ \n\n    const { handleSubmit, register, errors } = useForm();\n\t\n\tconst history = useHistory();\n\n    const [spin, setSpin] = useState(false);\n\t\n    const valide = async () => {\n      //setSpin(true);\n      await delete_account();\n      //setSpin(false);\n      history.push('/settings')\n    };\n    \n    return (\n      <Page title=\"Paramètres\">\n        <div>\n            <div className={classes.root} className={classes.bodyStyle} ref={ref}>\n              \n              <ExpansionPanel>\n                <ExpansionPanelSummary\n                  expandIcon={<ExpandMoreIcon />}\n                  aria-controls=\"panel1a-content\"\n                  id=\"panel1a-header\"\n                >\n                  <ListItemIcon>\n                    <StoreIcon />\n                  </ListItemIcon>\n                  <Typography className={classes.heading}>Mes Marchands</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                  <Typography>\n                  <Grid container spacing={2}>\n                    <MyMarchanList />\n                  </Grid>\n                  </Typography>\n                </ExpansionPanelDetails>\n              </ExpansionPanel>  \n              <br/>\n              <ExpansionPanel expanded={expanded === 'panel1'} onChange={handleChange('panel1')} >\n                <ExpansionPanelSummary\n                  expandIcon={<ExpandMoreIcon />}\n                  aria-controls=\"panel1bh-content\"\n                  id=\"panel1bh-header\"\n                >\n                  <ListItemIcon>\n                    <EmojiEmotionsIcon />\n                  </ListItemIcon>\n                  <Typography className={classes.heading}>Changer mon nom</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                  <Typography>\n                    <Grid container spacing={2}>\n                      <UserMyName />  \n                    </Grid>\n                  </Typography>\n                </ExpansionPanelDetails>\n              </ExpansionPanel>\n              <ExpansionPanel expanded={expanded === 'panel2'} onChange={handleChange('panel2')}>\n                  <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel2bh-content\"\n                    id=\"panel2bh-header\"\n                  >\n                  <ListItemIcon>\n                    <MailOutlineIcon />\n                  </ListItemIcon>\n              \n                  <Typography className={classes.heading}>Changer mon email</Typography>\n                  </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                  <Typography>\n                    <Grid container spacing={1}>\n                      <UserMyEmail />\n                    </Grid>\n                  </Typography>\n                </ExpansionPanelDetails>\n                \n              </ExpansionPanel>\n              \n              <ExpansionPanel expanded={expanded === 'panel3'} onChange={handleChange('panel3')}>\n                  <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel3bh-content\"\n                    id=\"panel3bh-header\"\n                  >\n                  <ListItemIcon>\n                    <VpnKeyIcon />\n                  </ListItemIcon>\n                  <Typography className={classes.heading}>Changer mon mot de passe</Typography>\n                  </ExpansionPanelSummary>\n                  <ExpansionPanelDetails>\n                    <Typography>\n                      <Grid container spacing={2}>\n                        <UserMyPassword/>\n                      </Grid>\n                    </Typography>\n                  </ExpansionPanelDetails>\n              </ExpansionPanel>\n              <br/>\n              <ExpansionPanel expanded={expanded === 'panel4'} onClick={handleClickOpen}>\n                <ExpansionPanelSummary\n                    aria-controls=\"panel4bh-content\"\n                    id=\"panel4bh-header\"\n                    className={classes.buttonColor}\n                  >\n                    <ListItemIcon>\n                      <DeleteIcon color=\"primary\" className={classes.buttonColor} />\n                    </ListItemIcon>\n                    <Typography className={classes.heading}>Supprimer mon compte</Typography>\n                  </ExpansionPanelSummary>\n              </ExpansionPanel>\n\n\t\t\t  <Dialog\n              open={open}\n              keepMounted\n              onClose={handleClose}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n              >\n                <DialogTitle id=\"alert-dialog-title\"> {\"Supprimer mon compte\"}</DialogTitle>\n                <DialogContent>\n                  <DialogContentText id=\"alert-dialog-description\">\n                  Voulez-vous supprimer ce compte ?\n                  </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                  <Button onClick={handleClose} color=\"primary\">\n                    Annuler\n                  </Button>\n                  <Button onClick={valide} color=\"primary\" className={classes.buttonColor} autoFocus>\n                    Supprimer mon compte\n                  </Button>\n                </DialogActions>\n              </Dialog>\n          </div>\n        </div>\n      </Page>\n      );\n};"]},"metadata":{},"sourceType":"module"}